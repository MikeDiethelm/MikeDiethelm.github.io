<div class="advanced-topic-dialog">
    <div class="dialog-header">
        <div class="header-icon">
            <mat-icon>{{ data.icon }}</mat-icon>
        </div>
        <h2 mat-dialog-title>{{ data.detailTitle || data.title | translate }}</h2>
        <button mat-icon-button mat-dialog-close class="close-button">
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <mat-dialog-content>
        @if (data.explanation) {
        <section class="explanation-section">
            <p class="explanation-text">{{ data.explanation | translate }}</p>
        </section>
        }

        @if (data.detailedItems && data.detailedItems.length > 0) {
        <section class="detailed-section">
            <h3>{{ 'angularSummary.detailedPractices' | translate }}</h3>
            <mat-accordion>
                @for (item of data.detailedItems; track item.title) {
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon class="panel-icon">arrow_right</mat-icon>
                            {{ item.title | translate }}
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="panel-content">
                        <p>{{ item.description | translate }}</p>
                        @if (item.example) {
                        <pre><code>{{ item.example }}</code></pre>
                        }
                    </div>
                </mat-expansion-panel>
                }
            </mat-accordion>
        </section>
        }

        @if (data.codeExample) {
        <section class="code-section">
            <h3>{{ 'angularSummary.example' | translate }}</h3>
            <pre><code>{{ data.codeExample }}</code></pre>
        </section>
        }

        @if (data.benefits && data.benefits.length > 0) {
        <section class="benefits-section">
            <h3>{{ 'angular.common.benefits' | translate }}</h3>
            <mat-chip-set>
                @for (benefit of data.benefits; track benefit) {
                <mat-chip class="benefit-chip">
                    <mat-icon>check_circle</mat-icon>
                    {{ benefit | translate }}
                </mat-chip>
                }
            </mat-chip-set>
        </section>
        }

        @if (data.antiPatterns && data.antiPatterns.length > 0) {
        <section class="antipatterns-section">
            <h3>{{ 'angularSummary.antiPatterns' | translate }}</h3>
            <mat-list>
                @for (pattern of data.antiPatterns; track pattern) {
                <mat-list-item>
                    <mat-icon matListItemIcon class="warning-icon">warning</mat-icon>
                    <span matListItemTitle>{{ pattern | translate }}</span>
                </mat-list-item>
                }
            </mat-list>
        </section>
        }

        <section class="tips-section">
            <div class="tip-box">
                <mat-icon>lightbulb</mat-icon>
                <p>{{ 'angularSummary.quickTips' | translate }}</p>
            </div>
        </section>
    </mat-dialog-content>
</div>